import{i as T,g as Me,e as x,a as $,b,c as C,r as N,d as ae,f as je,h as w,j as Le,k as le,o as xe,L as P,M as Ce,l as Ne,S as H,m as D,n as Pe,t as De,p as Re,q as W}from"./index-B9_2HJmf.js";function ce(t){return t}var K=Object.create,Ge=function(){function t(){}return function(e){if(!T(e))return{};if(K)return K(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function Ue(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Fe(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Be=800,He=16,We=Date.now;function Ke(t){var e=0,r=0;return function(){var n=We(),o=He-(n-r);if(r=n,o>0){if(++e>=Be)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function qe(t){return function(){return t}}var E=function(){try{var t=Me(Object,"defineProperty");return t({},"",{}),t}catch{}}(),ze=E?function(t,e){return E(t,"toString",{configurable:!0,enumerable:!1,value:qe(e),writable:!0})}:ce,Je=Ke(ze);function Ye(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var Xe=9007199254740991,Ze=/^(?:0|[1-9]\d*)$/;function R(t,e){var r=typeof t;return e=e??Xe,!!e&&(r=="number"||r!="symbol"&&Ze.test(t))&&t>-1&&t%1==0&&t<e}function G(t,e,r){e=="__proto__"&&E?E(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Qe=Object.prototype,Ve=Qe.hasOwnProperty;function ue(t,e,r){var n=t[e];(!(Ve.call(t,e)&&x(n,r))||r===void 0&&!(e in t))&&G(t,e,r)}function ke(t,e,r,n){var o=!r;r||(r={});for(var i=-1,s=e.length;++i<s;){var a=e[i],l=void 0;l===void 0&&(l=t[a]),o?G(r,a,l):ue(r,a,l)}return r}var q=Math.max;function et(t,e,r){return e=q(e===void 0?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=q(n.length-e,0),s=Array(i);++o<i;)s[o]=n[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=n[o];return a[e]=r(s),Ue(t,this,a)}}function tt(t,e){return Je(et(t,e,ce),t+"")}function rt(t,e,r){if(!T(r))return!1;var n=typeof e;return(n=="number"?$(r)&&R(e,r.length):n=="string"&&e in r)?x(r[e],t):!1}function nt(t){return tt(function(e,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,s=o>2?r[2]:void 0;for(i=t.length>3&&typeof i=="function"?(o--,i):void 0,s&&rt(r[0],r[1],s)&&(i=o<3?void 0:i,o=1),e=Object(e);++n<o;){var a=r[n];a&&t(e,a,n,i)}return e})}function ot(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var it="[object Arguments]";function z(t){return b(t)&&C(t)==it}var fe=Object.prototype,st=fe.hasOwnProperty,at=fe.propertyIsEnumerable,I=z(function(){return arguments}())?z:function(t){return b(t)&&st.call(t,"callee")&&!at.call(t,"callee")};function lt(){return!1}var pe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,J=pe&&typeof module=="object"&&module&&!module.nodeType&&module,ct=J&&J.exports===pe,Y=ct?N.Buffer:void 0,ut=Y?Y.isBuffer:void 0,U=ut||lt,ft="[object Arguments]",pt="[object Array]",dt="[object Boolean]",gt="[object Date]",ht="[object Error]",bt="[object Function]",yt="[object Map]",vt="[object Number]",wt="[object Object]",mt="[object RegExp]",Tt="[object Set]",Ot="[object String]",At="[object WeakMap]",_t="[object ArrayBuffer]",St="[object DataView]",Et="[object Float32Array]",It="[object Float64Array]",$t="[object Int8Array]",Mt="[object Int16Array]",jt="[object Int32Array]",Lt="[object Uint8Array]",xt="[object Uint8ClampedArray]",Ct="[object Uint16Array]",Nt="[object Uint32Array]",u={};u[Et]=u[It]=u[$t]=u[Mt]=u[jt]=u[Lt]=u[xt]=u[Ct]=u[Nt]=!0;u[ft]=u[pt]=u[_t]=u[dt]=u[St]=u[gt]=u[ht]=u[bt]=u[yt]=u[vt]=u[wt]=u[mt]=u[Tt]=u[Ot]=u[At]=!1;function Pt(t){return b(t)&&ae(t.length)&&!!u[C(t)]}function F(t){return function(e){return t(e)}}var de=typeof exports=="object"&&exports&&!exports.nodeType&&exports,A=de&&typeof module=="object"&&module&&!module.nodeType&&module,Dt=A&&A.exports===de,M=Dt&&je.process,m=function(){try{var t=A&&A.require&&A.require("util").types;return t||M&&M.binding&&M.binding("util")}catch{}}(),X=m&&m.isTypedArray,ge=X?F(X):Pt,Rt=Object.prototype,Gt=Rt.hasOwnProperty;function he(t,e){var r=w(t),n=!r&&I(t),o=!r&&!n&&U(t),i=!r&&!n&&!o&&ge(t),s=r||n||o||i,a=s?ot(t.length,String):[],l=a.length;for(var f in t)(e||Gt.call(t,f))&&!(s&&(f=="length"||o&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||R(f,l)))&&a.push(f);return a}function Ut(t){return $(t)?he(t):Le(t)}function Ft(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Bt=Object.prototype,Ht=Bt.hasOwnProperty;function Wt(t){if(!T(t))return Ft(t);var e=le(t),r=[];for(var n in t)n=="constructor"&&(e||!Ht.call(t,n))||r.push(n);return r}function be(t){return $(t)?he(t,!0):Wt(t)}function Kt(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}var ye=xe(Object.getPrototypeOf,Object),qt="[object Object]",zt=Function.prototype,Jt=Object.prototype,ve=zt.toString,Yt=Jt.hasOwnProperty,Xt=ve.call(Object);function Zt(t){if(!b(t)||C(t)!=qt)return!1;var e=ye(t);if(e===null)return!0;var r=Yt.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&ve.call(r)==Xt}function Qt(){this.__data__=new P,this.size=0}function Vt(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function kt(t){return this.__data__.get(t)}function er(t){return this.__data__.has(t)}var tr=200;function rr(t,e){var r=this.__data__;if(r instanceof P){var n=r.__data__;if(!Ce||n.length<tr-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ne(n)}return r.set(t,e),this.size=r.size,this}function y(t){var e=this.__data__=new P(t);this.size=e.size}y.prototype.clear=Qt;y.prototype.delete=Vt;y.prototype.get=kt;y.prototype.has=er;y.prototype.set=rr;var we=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Z=we&&typeof module=="object"&&module&&!module.nodeType&&module,nr=Z&&Z.exports===we,Q=nr?N.Buffer:void 0,V=Q?Q.allocUnsafe:void 0;function me(t,e){if(e)return t.slice();var r=t.length,n=V?V(r):new t.constructor(r);return t.copy(n),n}function or(t,e){for(var r=-1,n=t==null?0:t.length,o=0,i=[];++r<n;){var s=t[r];e(s,r,t)&&(i[o++]=s)}return i}function ir(){return[]}var sr=Object.prototype,ar=sr.propertyIsEnumerable,k=Object.getOwnPropertySymbols,lr=k?function(t){return t==null?[]:(t=Object(t),or(k(t),function(e){return ar.call(t,e)}))}:ir;function cr(t,e,r){var n=e(t);return w(t)?n:Kt(n,r(t))}function ur(t){return cr(t,Ut,lr)}var fr=Object.prototype,pr=fr.hasOwnProperty;function dr(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&pr.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var ee=N.Uint8Array;function B(t){var e=new t.constructor(t.byteLength);return new ee(e).set(new ee(t)),e}function gr(t,e){var r=B(t.buffer);return new t.constructor(r,t.byteOffset,t.byteLength)}var hr=/\w*$/;function br(t){var e=new t.constructor(t.source,hr.exec(t));return e.lastIndex=t.lastIndex,e}var te=H?H.prototype:void 0,re=te?te.valueOf:void 0;function yr(t){return re?Object(re.call(t)):{}}function Te(t,e){var r=e?B(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var vr="[object Boolean]",wr="[object Date]",mr="[object Map]",Tr="[object Number]",Or="[object RegExp]",Ar="[object Set]",_r="[object String]",Sr="[object Symbol]",Er="[object ArrayBuffer]",Ir="[object DataView]",$r="[object Float32Array]",Mr="[object Float64Array]",jr="[object Int8Array]",Lr="[object Int16Array]",xr="[object Int32Array]",Cr="[object Uint8Array]",Nr="[object Uint8ClampedArray]",Pr="[object Uint16Array]",Dr="[object Uint32Array]";function Rr(t,e,r){var n=t.constructor;switch(e){case Er:return B(t);case vr:case wr:return new n(+t);case Ir:return gr(t);case $r:case Mr:case jr:case Lr:case xr:case Cr:case Nr:case Pr:case Dr:return Te(t,r);case mr:return new n;case Tr:case _r:return new n(t);case Or:return br(t);case Ar:return new n;case Sr:return yr(t)}}function Oe(t){return typeof t.constructor=="function"&&!le(t)?Ge(ye(t)):{}}var Gr="[object Map]";function Ur(t){return b(t)&&D(t)==Gr}var ne=m&&m.isMap,Fr=ne?F(ne):Ur,Br="[object Set]";function Hr(t){return b(t)&&D(t)==Br}var oe=m&&m.isSet,Wr=oe?F(oe):Hr,Kr=1,Ae="[object Arguments]",qr="[object Array]",zr="[object Boolean]",Jr="[object Date]",Yr="[object Error]",_e="[object Function]",Xr="[object GeneratorFunction]",Zr="[object Map]",Qr="[object Number]",Se="[object Object]",Vr="[object RegExp]",kr="[object Set]",en="[object String]",tn="[object Symbol]",rn="[object WeakMap]",nn="[object ArrayBuffer]",on="[object DataView]",sn="[object Float32Array]",an="[object Float64Array]",ln="[object Int8Array]",cn="[object Int16Array]",un="[object Int32Array]",fn="[object Uint8Array]",pn="[object Uint8ClampedArray]",dn="[object Uint16Array]",gn="[object Uint32Array]",c={};c[Ae]=c[qr]=c[nn]=c[on]=c[zr]=c[Jr]=c[sn]=c[an]=c[ln]=c[cn]=c[un]=c[Zr]=c[Qr]=c[Se]=c[Vr]=c[kr]=c[en]=c[tn]=c[fn]=c[pn]=c[dn]=c[gn]=!0;c[Yr]=c[_e]=c[rn]=!1;function S(t,e,r,n,o,i){var s,a=e&Kr;if(s!==void 0)return s;if(!T(t))return t;var l=w(t);if(l)s=dr(t);else{var f=D(t),p=f==_e||f==Xr;if(U(t))return me(t,a);if(f==Se||f==Ae||p&&!o)s=p?{}:Oe(t);else{if(!c[f])return o?t:{};s=Rr(t,f,a)}}i||(i=new y);var g=i.get(t);if(g)return g;i.set(t,s),Wr(t)?t.forEach(function(d){s.add(S(d,e,r,d,t,i))}):Fr(t)&&t.forEach(function(d,h){s.set(h,S(d,e,r,h,t,i))});var O=ur,v=l?void 0:O(t);return Ye(v||t,function(d,h){v&&(h=d,d=t[h]),ue(s,h,S(d,e,r,h,t,i))}),s}var hn=1,bn=4;function _(t){return S(t,hn|bn)}function yn(t,e,r){e=Pe(e,t);for(var n=-1,o=e.length,i=!1;++n<o;){var s=De(e[n]);if(!(i=t!=null&&r(t,s)))break;t=t[s]}return i||++n!=o?i:(o=t==null?0:t.length,!!o&&ae(o)&&R(s,o)&&(w(t)||I(t)))}function vn(t){return function(e,r,n){for(var o=-1,i=Object(e),s=n(e),a=s.length;a--;){var l=s[++o];if(r(i[l],l,i)===!1)break}return e}}var wn=vn();function j(t,e,r){(r!==void 0&&!x(t[e],r)||r===void 0&&!(e in t))&&G(t,e,r)}function mn(t){return b(t)&&$(t)}function L(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function Tn(t){return ke(t,be(t))}function On(t,e,r,n,o,i,s){var a=L(t,r),l=L(e,r),f=s.get(l);if(f){j(t,r,f);return}var p=i?i(a,l,r+"",t,e,s):void 0,g=p===void 0;if(g){var O=w(l),v=!O&&U(l),d=!O&&!v&&ge(l);p=l,O||v||d?w(a)?p=a:mn(a)?p=Fe(a):v?(g=!1,p=me(l,!0)):d?(g=!1,p=Te(l,!0)):p=[]:Zt(l)||I(l)?(p=a,I(a)?p=Tn(a):(!T(a)||Re(a))&&(p=Oe(l))):g=!1}g&&(s.set(l,p),o(p,l,n,i,s),s.delete(l)),j(t,r,p)}function Ee(t,e,r,n,o){t!==e&&wn(e,function(i,s){if(o||(o=new y),T(i))On(t,e,s,r,Ee,n,o);else{var a=n?n(L(t,s),i,s+"",t,e,o):void 0;a===void 0&&(a=i),j(t,s,a)}},be)}var ie=nt(function(t,e,r,n){Ee(t,e,r,n)}),An=Object.prototype,_n=An.hasOwnProperty;function Sn(t,e){return t!=null&&_n.call(t,e)}function se(t,e){return t!=null&&yn(t,e,Sn)}class Ie{constructor(e,r){this.utilityName=e,this.defaultOptions=_(r),this.options=_(r)}resetOptions(){this.options=_(this.defaultOptions)}setOption(e,r){if(typeof e=="object"&&e!==null&&r===void 0)this.options=ie({},this.options,e,(n,o)=>{if(o===void 0)return n;if(Array.isArray(o))return o});else if(typeof e=="string"||typeof e=="symbol"){if(r===void 0)return;this.options=ie({},this.options,{[e]:r},(n,o)=>{if(o===void 0)return n;if(Array.isArray(o))return o})}}getOption(e,r){if(e===void 0)return _(this.options);if(r!==void 0){const n=this.options[e];return W(n,r)}return typeof e=="string"&&e.includes(".")?W(this.options,e):this.options[e]}hasOption(e,r){if(r!==void 0){const n=this.options[e];return n!==void 0&&se(n,r)}return typeof e=="string"&&e.includes(".")?se(this.options,e):this.options[e]!==void 0}getUtilityName(){return this.utilityName}setOptions(e){this.setOption(e)}getOptions(){return this.getOption()}}class En{constructor(){this.managers=new Map}registerManager(e,r){this.managers.set(e,r)}setGlobalOptions(e){for(const[r,n]of Object.entries(e)){const o=this.managers.get(r);o&&n&&o.setOption(n)}}getAllOptions(){const e={};for(const[r,n]of this.managers.entries())e[r]=n.getOption();return e}resetAllOptions(){for(const e of this.managers.values())e.resetOptions()}getManager(e){return this.managers.get(e)}getRegisteredUtilities(){return Array.from(this.managers.keys())}}const $e=new En,In={log:console.log.bind(console),info:console.info.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),debug:console.debug.bind(console)};class $n{constructor(){this.isProduction=this.detectProductionMode(),this.interceptors=[];const e={type:this.detectEnvironment(),showCaller:!0,client:{namespace:"client",production:[],localStorageOverrideKey:"logLevels",attachWindow:!0},server:{namespace:"server",production:["error"]},interceptor:void 0};this.optionsManager=new Ie("log",e),$e.registerManager("log",this.optionsManager),this.ORIGINAL_CONSOLE_METHODS=In,this.log=this.log.bind(this),this.info=this.info.bind(this),this.warn=this.warn.bind(this),this.error=this.error.bind(this),this.debug=this.debug.bind(this),this.options.type==="client"&&this.options.client.attachWindow&&(globalThis.log=this)}get options(){return this.optionsManager.getOption()}detectEnvironment(){return typeof window<"u"&&typeof document<"u"?"client":typeof globalThis.process<"u"&&globalThis.process.versions&&globalThis.process.versions.node?"server":"client"}detectProductionMode(){return typeof window<"u"||typeof globalThis.process<"u"}getLocalStorageOverride(){const e=this.options;if(e.type!=="client"||typeof localStorage>"u")return null;try{const r=localStorage.getItem(e.client.localStorageOverrideKey);return r?r==="true"?!0:JSON.parse(r):null}catch{return null}}getCallerInfo(){try{const e=new Error().stack;if(!e)return null;const r=e.split(`
`);for(let n=4;n<r.length;n++){const o=r[n];if(o&&!o.includes("log.ts")&&!o.includes("log.js")){const i=o.match(/\((.*?):\d+:\d+\)|at (.*?):\d+:\d+/);if(i){const s=i[1]||i[2];if(s)return s.split("/").pop()||s}}}}catch{}return null}shouldLog(e){var o;const r=this.options,n=r[r.type];if(!this.isProduction)return!0;if(r.type==="client"){const i=this.getLocalStorageOverride();if(i===!0||Array.isArray(i)&&i.includes(e))return!0}return((o=n.production)==null?void 0:o.includes(e))??!1}formatMessage(e,r){const n=this.options,o=n[n.type];new Date().toISOString(),o.namespace;const i=n.showCaller?this.getCallerInfo():null;return i?[`[${i}]`,...r]:r}_log(e,r){const n=this.options;if(n.interceptor)try{n.interceptor(e,r)}catch(s){this.ORIGINAL_CONSOLE_METHODS.error("Log interceptor error:",s)}for(const s of this.interceptors)try{s(e,r)}catch(a){this.ORIGINAL_CONSOLE_METHODS.error("Log interceptor error:",a)}if(!this.shouldLog(e))return;const o=this.formatMessage(e,r);this.isTestEnvironment()?(console[e]||console.log)(...o):(this.ORIGINAL_CONSOLE_METHODS[e]||this.ORIGINAL_CONSOLE_METHODS.log)(...o)}isTestEnvironment(){if(typeof globalThis.global<"u"&&globalThis.global.expect&&globalThis.global.describe&&globalThis.global.it)return!0;if(typeof window>"u"&&(typeof globalThis.global<"u"||typeof globalThis<"u")){const e=typeof globalThis.global<"u"?globalThis.global:globalThis;if(e.__coverage__||e.jasmine||e.mocha)return!0}return!1}setOptions(e){this.optionsManager.setOption(e)}getOptions(){return this.optionsManager.getOption()}log(...e){this._log("log",e)}info(...e){this._log("info",e)}warn(...e){this._log("warn",e)}error(...e){this._log("error",e)}debug(...e){this._log("debug",e)}enableDebug(e=!0){const r=this.options;if(r.type==="client")if(typeof localStorage<"u"){const n=e===!0?"true":JSON.stringify(e);localStorage.setItem(r.client.localStorageOverrideKey,n),this.ORIGINAL_CONSOLE_METHODS.info("Debug mode enabled. Refresh page to see all logs.")}else this.ORIGINAL_CONSOLE_METHODS.warn("localStorage not available, cannot enable debug mode.");else this.ORIGINAL_CONSOLE_METHODS.warn("enableDebug only works on client-side")}disableDebug(){const e=this.options;e.type==="client"?typeof localStorage<"u"?(localStorage.removeItem(e.client.localStorageOverrideKey),this.ORIGINAL_CONSOLE_METHODS.info("Debug mode disabled. Refresh page to restore production log levels.")):this.ORIGINAL_CONSOLE_METHODS.warn("localStorage not available, cannot disable debug mode."):this.ORIGINAL_CONSOLE_METHODS.warn("disableDebug only works on client-side")}addInterceptor(e){typeof e=="function"&&this.interceptors.push(e)}removeInterceptor(e){const r=this.interceptors.indexOf(e);r!==-1&&this.interceptors.splice(r,1)}}const Ln=new $n;class Mn{constructor(){this.widgetIds=new Set,this.scriptLoaded=!1,this.scriptLoading=!1;const e={environment:this.detectEnvironment(),apiUrl:"https://challenges.cloudflare.com/turnstile/v0/siteverify",scriptUrl:"https://challenges.cloudflare.com/turnstile/v0/api.js",widget:{theme:"auto",size:"normal",retry:"auto","retry-interval":8e3,"refresh-expired":"auto",appearance:"always","response-field":!0,"response-field-name":"cf-turnstile-response"},siteKey:void 0,secretKey:void 0,interceptor:void 0};this.optionsManager=new Ie("turnstile",e),$e.registerManager("turnstile",this.optionsManager),this.render=this.render.bind(this),this.verify=this.verify.bind(this),this.reset=this.reset.bind(this),this.remove=this.remove.bind(this)}get options(){return this.optionsManager.getOption()}detectEnvironment(){var e,r;return typeof window<"u"&&typeof document<"u"?"client":typeof globalThis<"u"&&((r=(e=globalThis.process)==null?void 0:e.versions)!=null&&r.node)?"server":"client"}async loadScript(){const e=this.options;if(e.environment!=="client")throw new Error("Script loading is only available on client-side");return this.scriptLoaded?Promise.resolve():this.scriptLoading?new Promise(r=>{const n=()=>{this.scriptLoaded?r():setTimeout(n,50)};n()}):(this.scriptLoading=!0,new Promise((r,n)=>{const o=document.createElement("script");o.src=e.scriptUrl,o.onload=()=>{this.scriptLoaded=!0,this.scriptLoading=!1,r()},o.onerror=()=>{this.scriptLoading=!1,n(new Error("Failed to load Turnstile script"))},document.head.appendChild(o)}))}callInterceptor(e,r){const n=this.options;if(n.interceptor)try{n.interceptor(e,r)}catch(o){console.error("Turnstile interceptor error:",o)}}setOptions(e){this.optionsManager.setOption(e)}resetOptions(){this.optionsManager.resetOptions()}getOptions(){return this.optionsManager.getOption()}async render(e,r={}){const n=this.options;if(n.environment!=="client")throw new Error("Widget rendering is only available on client-side");if(!n.siteKey)throw new Error('Site key is required. Call turnstile.setOptions({ siteKey: "your-key" }) first.');return this.callInterceptor("render-start",{container:e,customOptions:r}),await this.loadScript(),new Promise((o,i)=>{const s=()=>{try{const a={sitekey:n.siteKey,...n.widget,...r},l=window.turnstile.render(e,a);this.widgetIds.add(l),this.callInterceptor("render-success",{container:e,widgetId:l,options:a}),o(l)}catch(a){this.callInterceptor("render-error",{container:e,error:a}),i(a)}};window.turnstile,s()})}getResponse(e){if(this.options.environment!=="client")throw new Error("Getting response is only available on client-side");if(!window.turnstile)throw new Error("Turnstile script not loaded");const n=window.turnstile.getResponse(e);return this.callInterceptor("get-response",{widgetId:e,response:n}),n}reset(e){if(this.options.environment!=="client")throw new Error("Widget reset is only available on client-side");if(!window.turnstile)throw new Error("Turnstile script not loaded");window.turnstile.reset(e),this.callInterceptor("reset",{widgetId:e})}remove(e){if(this.options.environment!=="client")throw new Error("Widget removal is only available on client-side");if(!window.turnstile)throw new Error("Turnstile script not loaded");window.turnstile.remove(e),this.widgetIds.delete(e),this.callInterceptor("remove",{widgetId:e})}isExpired(e){if(this.options.environment!=="client")throw new Error("Widget expiry check is only available on client-side");if(!window.turnstile)throw new Error("Turnstile script not loaded");const n=window.turnstile.isExpired(e);return this.callInterceptor("is-expired",{widgetId:e,expired:n}),n}async verify(e,r){const n=this.options;if(n.environment!=="server")throw new Error("Token verification is only available on server-side");if(!n.secretKey)throw new Error('Secret key is required. Call turnstile.setOptions({ secretKey: "your-key" }) first.');this.callInterceptor("verify-start",{token:e,remoteip:r});const o=new URLSearchParams;o.append("secret",n.secretKey),o.append("response",e),r&&o.append("remoteip",r);try{const i=await fetch(n.apiUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:o});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const s=await i.json();return this.callInterceptor("verify-complete",{token:e,remoteip:r,result:s}),s}catch(i){throw this.callInterceptor("verify-error",{token:e,remoteip:r,error:i}),i}}getActiveWidgets(){return Array.from(this.widgetIds)}removeAll(){if(this.options.environment!=="client")throw new Error("Widget removal is only available on client-side");const r=Array.from(this.widgetIds);for(const n of r)this.remove(n)}cleanup(){this.options.environment==="client"&&this.removeAll()}}const xn=new Mn;export{$n as Log,In as ORIGINAL_CONSOLE_METHODS,Ie as OptionsManager,Mn as Turnstile,Ln as log,$e as optionsManager,xn as turnstile};
//# sourceMappingURL=index-cjvh-nqN.js.map
